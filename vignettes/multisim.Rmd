---
title: "multisim examples"
author: "Lisa DeBruine"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(multisim)
```

## Specify `cors`
You can specify the correlations in one of four ways:

* A single r for all pairs
* A vars by vars matrix
* A vars\*vars length vector
* A vars\*(vars-1)/2 length vector

### One Number

If you want all the pairs to have the same correlation, just specify a single number. 

```{r}
bvn <- multirnorm(100, 5, .3, varnames = letters[1:5])
```

`r knitr::kable(cor(bvn))`

### Matrix

If you already have a correlation matrix, such as the output of `cor()`, you can specify the simulated data with that.

```{r vvmatrix}
cmat <- cor(iris[,1:4])
bvn <- multirnorm(100, 4, cmat, 
                  varnames = colnames(cmat))
```

`r knitr::kable(cor(bvn))`

### Vector (vars\*vars)

You can specify your correlation matrix by hand as a vars\*vars length vector, which will include the correlations of 1 down the diagonal.

```{r}
cmat <- c(1, .3, .5,
          .3, 1, 0,
          .5, 0, 1)
bvn <- multirnorm(100, 3, cmat, 
                  varnames = c("first", "second", "third"))
```

`r knitr::kable(cor(bvn))`

### Vector (vars\*(vars-1)/2)

You can specify your correlation matrix by hand as a vars\*(vars-1)/2 length vector, skipping the diagonal and lower left duplicate values.

```{r}
rho1_2 <- .3
rho1_3 <- .5
rho1_4 <- .5
rho2_3 <- .2
rho2_4 <- 0
rho3_4 <- -.3
cmat <- c(rho1_2, rho1_3, rho1_4, rho2_3, rho2_4, rho3_4)
bvn <- multirnorm(100, 4, cmat, 
                  varnames = letters[1:4])
```

`r knitr::kable(cor(bvn))`

## empirical
```{r}
bvn <- multirnorm(100, 5, .3, 
                  varnames = letters[1:5], 
                  empirical = T)
```

`r knitr::kable(cor(bvn))`
