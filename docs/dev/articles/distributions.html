<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Distribution Conversions • faux</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Distribution Conversions">
<meta property="og:description" content="faux">
<meta property="og:image" content="https://debruine.github.io/faux/reference/figures/card.png">
<meta property="og:image:alt" content="Blue hexagon with the word FAUX in white">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@lisadebruine">
<meta name="twitter:site" content="@lisadebruine">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">faux</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.0.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/sim_design.html">Simulate by Design</a>
    </li>
    <li>
      <a href="../articles/rnorm_multi.html">Simulate Correlated Variables</a>
    </li>
    <li>
      <a href="../articles/sim_df.html">Simulate from Existing Data</a>
    </li>
    <li>
      <a href="../articles/continuous.html">Continuous Predictors</a>
    </li>
    <li>
      <a href="../articles/plots.html">Plotting</a>
    </li>
    <li>
      <a href="../articles/sim_mixed.html">Mixed Design Simulation</a>
    </li>
    <li>
      <a href="../articles/random_reports.html">Randomised Reports</a>
    </li>
    <li>
      <a href="../articles/distributions.html">Distribution Conversions</a>
    </li>
    <li>
      <a href="../articles/codebook.html">Codebook Demo</a>
    </li>
    <li>
      <a href="../articles/contrasts.html">Contrasts</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/debruine/faux/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="distributions_files/header-attrs-2.10.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Distribution Conversions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/debruine/faux/blob/master/vignettes/distributions.Rmd"><code>vignettes/distributions.Rmd</code></a></small>
      <div class="hidden name"><code>distributions.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/debruine/faux">faux</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/daattali/ggExtra">ggExtra</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/olafmersmann/truncnorm">truncnorm</a></span><span class="op">)</span></code></pre></div>
<p>For now, <code><a href="../reference/sim_design.html">sim_design()</a></code> only simulates multivariate normal distributions. You can use the conversion functions to convert values between distributions.</p>
<div id="truncated-normal" class="section level2">
<h2 class="hasAnchor">
<a href="#truncated-normal" class="anchor"></a>Truncated normal</h2>
<p>Imagine you’re trying to simulate each participant’s mean score on 50 trials with 1-7 Likert responses and you only have the mean and SD from a previous paper to go on. simulating from a normal distribution is likely to give you impossible values, but you can convert to a truncated normal distribution.</p>
<p>Convert between a normal distribution with a mean of 3.5 and SD of 2.5 and a truncated normal distribution ranging from 1 to 7 with the same mean and sd. The red values below are outside the truncated range on the unbounded normal scale.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">=</span> <span class="fl">3.5</span>
<span class="va">sd</span> <span class="op">=</span> <span class="fl">2.5</span>
<span class="va">min</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">max</span> <span class="op">=</span> <span class="fl">7</span>

<span class="va">x_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="va">y_t</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/norm2trunc.html">norm2trunc</a></span><span class="op">(</span><span class="va">x_n</span>, <span class="va">min</span>, <span class="va">max</span><span class="op">)</span>

<span class="va">x_t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/truncnorm/man/dtruncnorm.html">rtruncnorm</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="va">min</span>, <span class="va">max</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="va">y_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trunc2norm.html">trunc2norm</a></span><span class="op">(</span><span class="va">x_t</span>, <span class="va">min</span> , <span class="va">max</span><span class="op">)</span></code></pre></div>
<p><img src="distributions_files/figure-html/trunc-plot-1.png" width="100%"></p>
<p>If you omit the min and max values for <code><a href="../reference/trunc2norm.html">trunc2norm()</a></code>, it will set them outside the min and max of the data, but this can be really inaccurate, so set them yourself.</p>
</div>
<div id="likert" class="section level2">
<h2 class="hasAnchor">
<a href="#likert" class="anchor"></a>Likert</h2>
<p>You can convert a normal distribution to any sample distribution if you can specify the probability of each level. You can specify probability as counts or proportions. If you use a named vector, the output will be a factor with those named levels.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">sd</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">prob</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'very low'</span> <span class="op">=</span> <span class="fl">50</span>, 
         <span class="st">'low'</span> <span class="op">=</span> <span class="fl">80</span>, 
         <span class="st">'medium'</span> <span class="op">=</span> <span class="fl">100</span>, 
         <span class="st">'high'</span> <span class="op">=</span> <span class="fl">40</span>, 
         <span class="st">'very high'</span> <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>


<span class="va">x_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="va">y_l</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/norm2likert.html">norm2likert</a></span><span class="op">(</span><span class="va">x_n</span>, <span class="va">prob</span><span class="op">)</span></code></pre></div>
<p><img src="distributions_files/figure-html/likert-plot-1.png" width="100%"></p>
</div>
<div id="uniform" class="section level2">
<h2 class="hasAnchor">
<a href="#uniform" class="anchor"></a>Uniform</h2>
<p>Convert between a normal distribution with a mean of 0 and SD of 1 and a uniform distribution ranging from 0 to 10. If you omit the min and max values for <code><a href="../reference/unif2norm.html">unif2norm()</a></code>, it will set them slightly outside the min and max of the data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">sd</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">min</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">max</span> <span class="op">=</span> <span class="fl">100</span>

<span class="va">x_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1e3</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="va">y_u</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/norm2unif.html">norm2unif</a></span><span class="op">(</span><span class="va">x_n</span>, <span class="va">min</span>, <span class="va">max</span><span class="op">)</span>

<span class="va">x_u</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">1e3</span>, <span class="va">min</span>, <span class="va">max</span><span class="op">)</span>
<span class="va">y_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/unif2norm.html">unif2norm</a></span><span class="op">(</span><span class="va">x_u</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="co">#&gt; min was set to 0.0992686796709895</span>
<span class="co">#&gt; max was set to 99.7016261954084</span></code></pre></div>
<p><img src="distributions_files/figure-html/unif-plot-1.png" width="100%"></p>
<p>By default, the function will try to guess the relevant parameters of the input distribution, but you can also specify them. This is especially useful if you know the actual min and max values, but don’t have enough data for any of the observations to be near them.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># cheating a little to make sure no values near min and max</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">1e4</span>, <span class="fl">0.1</span>, <span class="fl">0.9</span><span class="op">)</span> 
<span class="va">y_guess</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/unif2norm.html">unif2norm</a></span><span class="op">(</span><span class="va">x</span>, mu <span class="op">=</span> <span class="fl">100</span>, sd <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; min was set to 0.100089273990691</span>
<span class="co">#&gt; max was set to 0.900074888563156</span>
<span class="va">y_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/unif2norm.html">unif2norm</a></span><span class="op">(</span><span class="va">x</span>, mu <span class="op">=</span> <span class="fl">100</span>, sd <span class="op">=</span> <span class="fl">10</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p><img src="distributions_files/figure-html/unnamed-chunk-6-1.png" width="100%"></p>
</div>
<div id="binomial" class="section level2">
<h2 class="hasAnchor">
<a href="#binomial" class="anchor"></a>Binomial</h2>
<p>Convert between a normal distribution with a mean of 0 and SD of 1 to a binomial distribution with size of 20 and probability of 0.75 (e.g., sum scores on a 20-trial test with a mean of 75% correct).</p>
<p>Converting from binomial to normal can produce odd-looking distributions of the size is small or the probability is very high or low. If you don’t specify the probability, it will be estimated from your data. If you don’t specify the size, it will be set to the maximum value of x (which can be wrong, so set it yourself).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">sd</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">size</span> <span class="op">=</span> <span class="fl">20</span>
<span class="va">prob</span> <span class="op">=</span> <span class="fl">0.75</span>

<span class="va">x_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1e4</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="va">y_b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/norm2binom.html">norm2binom</a></span><span class="op">(</span><span class="va">x_n</span>, <span class="va">size</span>, <span class="va">prob</span><span class="op">)</span>

<span class="va">x_b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="fl">1e4</span>, <span class="va">size</span>, <span class="va">prob</span><span class="op">)</span>
<span class="va">y_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/binom2norm.html">binom2norm</a></span><span class="op">(</span><span class="va">x_b</span>, <span class="va">mu</span>, <span class="va">sd</span>, <span class="va">size</span><span class="op">)</span>
<span class="co">#&gt; prob was set to 0.74942</span></code></pre></div>
<p><img src="distributions_files/figure-html/binom-plot-1.png" width="100%"></p>
</div>
<div id="beta" class="section level2">
<h2 class="hasAnchor">
<a href="#beta" class="anchor"></a>Beta</h2>
<p>Convert between a normal distribution with a mean of 0 and SD of 1 and a beta distribution with shape parameters of 2 and 5. The function <code><a href="../reference/beta2norm.html">beta2norm()</a></code> will try to guess the shape parameters from your data if you don’t specify them.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">sd</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">shape1</span> <span class="op">=</span> <span class="fl">2</span>
<span class="va">shape2</span> <span class="op">=</span> <span class="fl">5</span>

<span class="va">x_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1e4</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="va">y_b</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/norm2beta.html">norm2beta</a></span><span class="op">(</span><span class="va">x_n</span>, <span class="va">shape1</span>, <span class="va">shape2</span><span class="op">)</span>

<span class="va">x_b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">rbeta</a></span><span class="op">(</span><span class="fl">1e4</span>, <span class="va">shape1</span>, <span class="va">shape2</span><span class="op">)</span>
<span class="va">y_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/beta2norm.html">beta2norm</a></span><span class="op">(</span><span class="va">x_b</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="co">#&gt; shape1 was set to 1.95666779213503</span>
<span class="co">#&gt; shape2 was set to 4.95063569233446</span></code></pre></div>
<p><img src="distributions_files/figure-html/beta-plot-1.png" width="100%"></p>
</div>
<div id="gamma" class="section level2">
<h2 class="hasAnchor">
<a href="#gamma" class="anchor"></a>Gamma</h2>
<p>Convert between a normal distribution with a mean of 0 and SD of 1 and a gamma distribution with a shape parameter of 2 and a rate of 1. The function <code><a href="../reference/gamma2norm.html">gamma2norm()</a></code> will try to guess the shape and rate parameters from your data if you don’t specify them.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mu</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">sd</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">shape</span> <span class="op">=</span> <span class="fl">2</span>
<span class="va">rate</span> <span class="op">=</span> <span class="fl">1</span>

<span class="va">x_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1e4</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="va">y_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/norm2gamma.html">norm2gamma</a></span><span class="op">(</span><span class="va">x_n</span>, <span class="va">shape</span>, <span class="va">rate</span><span class="op">)</span>

<span class="va">x_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html">rgamma</a></span><span class="op">(</span><span class="fl">1e4</span>, <span class="va">shape</span>, <span class="va">rate</span><span class="op">)</span>
<span class="va">y_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gamma2norm.html">gamma2norm</a></span><span class="op">(</span><span class="va">x_g</span>, <span class="va">mu</span>, <span class="va">sd</span><span class="op">)</span>
<span class="co">#&gt; shape was set to 1.97250941176025</span></code></pre></div>
<p><img src="distributions_files/figure-html/gamma-plot-1.png" width="100%"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Lisa DeBruine.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
